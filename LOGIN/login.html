<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="login.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
        <div class="box">
                <form>
                    <div class="container">
                        <h2 class="text-white fw-bold">Welcome Back</h2>
                        <div class="container-fluid form-floating  p-1 mb-3">
                            <input type="text" class="form-control" id="policy" placeholder="policynumber" required>
                            <label for="policy">Enter Policy Number</label>
                        </div>
                        <div class="container-fluid form-floating  p-1 mb-3">
                            <input type="password" class="form-control" id="password" placeholder="password" required>
                            <label for="password">Enter Password</label>
                        </div>
                        <div class="container-fluid otp">
                            <div class="container-fluid form-floating  p-0 ">
                                <input type="number" class="form-control" id="mobile" placeholder="mobile" required>
                                <label for="mobile">Mobile Number</label>
                            </div>
                            <button type="button" id="send" class="btn btn-danger fw-bold">OTP</button>
                        </div>
                        <div class="container-fluid form-floating  p-1 mb-3">
                            <input type="number" class="form-control" id="otp" placeholder="otp" required>
                            <label for="otp">Enter OTP</label>
                        </div>
                        <a href="../index.html"><button type="button" id="submit" class="btn btn-success fw-bold btn-lg ">Submit</button></a>
                        <a href="" id="link">Forgot Password?</a>
                </div>
                </form>
    </div>
    <script>
        let otpInput = document.getElementById('otp');
        let generatedOTP;
        function generateOTP(){
            return Math.floor(1000000 + Math.random() * 900000);
        }
        function sendOTP(){
                generatedOTP = generateOTP();
            alert('OTP Sent Successfully: ' + generatedOTP);
        }

        function validateform(){
            let policy = document.getElementById('policy').value;
            let password = document.getElementById('password').value;
            let mobile = document.getElementById('mobile').value;
            let enteredOTP = otpInput.value; 

            if(isNaN(policy)){
                alert("Policy number should be numeric digit only");
            }
            if(policy.length > 9){
                alert("Policy number should not be greater than 9 digits");
            }
            if(password.length < 8){
                alert("Enter Correct Password");
            }

            if (enteredOTP !== "") {
                if(enteredOTP == generatedOTP) {
                    alert("OTP verified successfully");
                } else {
                    alert("Please enter correct OTP");
                    otpInput.value='';
                }
            } else {
                alert("Please enter OTP");
            }
        }
        if(policy!=='' && password!=='' && mobile!=null){

            document.getElementById('send').addEventListener('click', sendOTP);
        }
        document.getElementById('submit').addEventListener('click', validateform);

        document.getElementById('link').addEventListener('click', function(event){
            event.preventDefault();
            alert('An email with password reset instructions has been sent to your email address.');
        });
        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>